<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Risk Ranger - Surrogacy Risk Assessment</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'alcea-ruby': '#7d2431',
                        'alcea-green': '#217045',
                        'alcea-mustard': '#e1b321',
                        'alcea-brown': '#a5630b',
                        'alcea-teal': '#005567',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50">
    <div id="risk-ranger-app"></div>

    <script type="module">
        // Import React from CDN
        import React from 'https://esm.sh/react@18.2.0';
        import ReactDOM from 'https://esm.sh/react-dom@18.2.0';

        const { createElement: e, useState, useEffect } = React;

        function RiskRangerApp() {
            const [textInput, setTextInput] = useState('');
            const [candidateName, setCandidateName] = useState('');
            const [candidateAge, setCandidateAge] = useState('');
            const [candidateBMI, setCandidateBMI] = useState('');
            const [results, setResults] = useState(null);
            const [loading, setLoading] = useState(false);
            const [showHowToUse, setShowHowToUse] = useState(false);
            const [showMethod, setShowMethod] = useState(false);

            // Alcea brand colors
            const rubyRed = '#7d2431';
            const darkGreen = '#217045';
            const mustardYellow = '#e1b321';
            const goldBrown = '#a5630b';
            const darkTeal = '#005567';

            const handleAnalyze = async () => {
                if (!textInput.trim()) {
                    alert('Please enter candidate information');
                    return;
                }

                setLoading(true);
                setResults(null);

                try {
                    // Simulate analysis (in real version, call your API)
                    await new Promise(resolve => setTimeout(resolve, 1500));

                    // Mock results
                    setResults({
                        strictClinic: { label: 'Likely to Approve', color: darkGreen },
                        moderateClinic: { label: 'Likely to Approve', color: darkGreen },
                        lenientClinic: { label: 'Likely to Approve', color: darkGreen },
                        summary: 'Excellent candidate for surrogacy'
                    });
                } catch (error) {
                    alert('Analysis failed. Please try again.');
                } finally {
                    setLoading(false);
                }
            };

            const handleReset = () => {
                setTextInput('');
                setCandidateName('');
                setCandidateAge('');
                setCandidateBMI('');
                setResults(null);
            };

            return e('div', { className: 'min-h-screen bg-gray-50' },
                e('div', { className: 'max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-6 md:py-12' },
                    e('div', { className: 'grid grid-cols-1 md:grid-cols-12 gap-6 md:gap-8' },
                        // Sidebar
                        e('aside', { className: 'md:col-span-3 space-y-4 md:space-y-6 lg:space-y-8' },
                            // Logo section
                            e('div', { className: 'hidden md:block' },
                                e('div', { className: 'bg-white rounded-xl p-3 border border-gray-200 text-center' },
                                    e('p', { className: 'text-xs font-semibold text-gray-400 tracking-widest mb-2' }, 'CREATED FOR'),
                                    e('img', { src: '/alcea-logo.png', alt: 'ALCEA Logo', className: 'w-full h-auto mb-2' }),
                                    e('p', { className: 'text-xs font-medium text-gray-500' }, '© RME 2025')
                                )
                            ),
                            // Buttons (desktop)
                            e('div', { className: 'hidden md:block space-y-2' },
                                e('button', {
                                    onClick: () => setShowHowToUse(true),
                                    className: 'w-full text-left px-3 py-2 rounded-xl text-white font-semibold flex items-center gap-2 transition-all hover:opacity-90 text-xs',
                                    style: { backgroundColor: goldBrown }
                                },
                                    e('div', { className: 'w-5 h-5 rounded-full border-2 border-white flex items-center justify-center text-sm font-bold flex-shrink-0' }, '?'),
                                    e('span', {}, 'How To Use')
                                ),
                                e('button', {
                                    onClick: () => setShowMethod(true),
                                    className: 'w-full text-left px-3 py-2 rounded-xl text-white font-semibold flex items-center gap-2 transition-all hover:opacity-90 text-xs',
                                    style: { backgroundColor: mustardYellow }
                                },
                                    e('svg', { className: 'w-4 h-4 flex-shrink-0', fill: 'none', stroke: 'currentColor', viewBox: '0 0 24 24' },
                                        e('path', { strokeLinecap: 'round', strokeLinejoin: 'round', strokeWidth: 2, d: 'M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z' })
                                    ),
                                    e('span', {}, 'Method')
                                )
                            )
                        ),
                        // Main content
                        e('main', { className: 'md:col-span-9' },
                            // Header
                            e('div', { className: 'mb-4 md:mb-6' },
                                e('img', { src: '/risk-ranger-logo.png', alt: 'Risk Ranger', className: 'h-24 sm:h-28 md:h-32 lg:h-40 w-auto mb-3 sm:mb-4' }),
                                e('p', { className: 'text-xs text-gray-500 border-b border-gray-300 pb-3 mb-4 md:hidden' }, 'Made for Alcea Surrogacy, © RME 2025'),
                                e('p', { className: 'text-base sm:text-lg text-gray-600 hidden md:block' }, 'Assess gestational carrier candidacy based on ASRM 2022 guidelines')
                            ),
                            // Mobile buttons
                            e('div', { className: 'grid grid-cols-2 gap-2 mb-6 md:hidden' },
                                e('button', {
                                    onClick: () => setShowHowToUse(true),
                                    className: 'text-left px-3 py-2.5 rounded-xl text-white font-semibold flex items-center gap-2 transition-all hover:opacity-90 text-xs',
                                    style: { backgroundColor: goldBrown }
                                },
                                    e('div', { className: 'w-5 h-5 rounded-full border-2 border-white flex items-center justify-center text-sm font-bold flex-shrink-0' }, '?'),
                                    e('span', {}, 'How To Use')
                                ),
                                e('button', {
                                    onClick: () => setShowMethod(true),
                                    className: 'text-left px-3 py-2.5 rounded-xl text-white font-semibold flex items-center gap-2 transition-all hover:opacity-90 text-xs',
                                    style: { backgroundColor: mustardYellow }
                                },
                                    e('svg', { className: 'w-4 h-4 flex-shrink-0', fill: 'none', stroke: 'currentColor', viewBox: '0 0 24 24' },
                                        e('path', { strokeLinecap: 'round', strokeLinejoin: 'round', strokeWidth: 2, d: 'M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z' })
                                    ),
                                    e('span', {}, 'Method')
                                )
                            ),
                            // Input form
                            e('div', { className: 'bg-white rounded-xl shadow-sm border border-gray-200 p-4 md:p-6 lg:p-8 mb-6 md:mb-8' },
                                e('div', { className: 'flex items-center gap-3 mb-4 sm:mb-6' },
                                    e('div', { className: 'w-10 h-10 sm:w-12 sm:h-12 rounded-xl flex items-center justify-center flex-shrink-0', style: { backgroundColor: rubyRed + '20' } },
                                        e('svg', { className: 'w-5 h-5 sm:w-6 sm:h-6', style: { color: rubyRed }, fill: 'none', stroke: 'currentColor', viewBox: '0 0 24 24' },
                                            e('path', { strokeLinecap: 'round', strokeLinejoin: 'round', strokeWidth: 2, d: 'M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z' })
                                        )
                                    ),
                                    e('h2', { className: 'text-xl sm:text-2xl font-semibold', style: { color: rubyRed } }, 'Candidate Assessment')
                                ),
                                // Candidate info fields
                                e('div', { className: 'grid grid-cols-3 gap-4 mb-4' },
                                    e('div', {},
                                        e('label', { className: 'block text-sm font-medium mb-2', style: { color: darkTeal } }, 'Name (Optional)'),
                                        e('input', {
                                            type: 'text',
                                            value: candidateName,
                                            onChange: (ev) => setCandidateName(ev.target.value),
                                            placeholder: 'Full name',
                                            className: 'w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2'
                                        })
                                    ),
                                    e('div', {},
                                        e('label', { className: 'block text-sm font-medium mb-2', style: { color: darkTeal } }, 'Age'),
                                        e('input', {
                                            type: 'number',
                                            value: candidateAge,
                                            onChange: (ev) => setCandidateAge(ev.target.value),
                                            placeholder: 'e.g., 32',
                                            className: 'w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2'
                                        })
                                    ),
                                    e('div', {},
                                        e('label', { className: 'block text-sm font-medium mb-2', style: { color: darkTeal } }, 'BMI'),
                                        e('input', {
                                            type: 'number',
                                            step: '0.1',
                                            value: candidateBMI,
                                            onChange: (ev) => setCandidateBMI(ev.target.value),
                                            placeholder: 'e.g., 24.5',
                                            className: 'w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2'
                                        })
                                    )
                                ),
                                // Medical information textarea
                                e('div', { className: 'mb-6' },
                                    e('label', { className: 'block text-sm font-medium mb-2', style: { color: darkTeal } }, 'Medical Information'),
                                    e('textarea', {
                                        value: textInput,
                                        onChange: (ev) => setTextInput(ev.target.value),
                                        placeholder: 'Enter candidate information in plain English or medical abbreviations:\n- "Sarah, 28 years old, 2 previous healthy pregnancies, vaginal deliveries, BMI 24, non-smoker"\n- "G3P2, age 32, 2 SVD, history of GDM diet-controlled"\n- Or paste medical records here',
                                        rows: 8,
                                        className: 'w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 font-mono text-sm'
                                    })
                                ),
                                // Buttons
                                e('div', { className: 'flex gap-3' },
                                    e('button', {
                                        onClick: handleAnalyze,
                                        disabled: loading,
                                        className: 'flex-1 py-3 sm:py-4 text-white rounded-lg font-semibold text-base sm:text-lg flex items-center justify-center gap-2 sm:gap-3 transition-all hover:opacity-90 disabled:opacity-50',
                                        style: { backgroundColor: darkGreen }
                                    },
                                        loading ?
                                            e(React.Fragment, {},
                                                e('div', { className: 'w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin' }),
                                                'Analyzing...'
                                            ) :
                                            e(React.Fragment, {},
                                                e('svg', { className: 'w-5 h-5', fill: 'none', stroke: 'currentColor', viewBox: '0 0 24 24' },
                                                    e('path', { strokeLinecap: 'round', strokeLinejoin: 'round', strokeWidth: 2, d: 'M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2' })
                                                ),
                                                'Analyze'
                                            )
                                    ),
                                    e('button', {
                                        onClick: handleReset,
                                        className: 'px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-semibold hover:bg-gray-200 transition-all'
                                    }, 'Reset')
                                )
                            ),
                            // Results section
                            results && e('div', { className: 'bg-white rounded-xl shadow-sm border border-gray-200 p-4 md:p-6 lg:p-8' },
                                e('h2', { className: 'text-2xl font-bold mb-6', style: { color: rubyRed } }, 'Assessment Results'),
                                e('div', { className: 'grid grid-cols-1 md:grid-cols-3 gap-4 mb-6' },
                                    // Strict clinics
                                    e('div', { className: 'border border-gray-200 rounded-lg p-4' },
                                        e('h3', { className: 'font-semibold mb-2 text-center' }, 'Strict Clinics'),
                                        e('div', { className: 'text-center py-3 px-4 rounded-lg text-white font-semibold', style: { backgroundColor: results.strictClinic.color } },
                                            results.strictClinic.label
                                        )
                                    ),
                                    // Moderate clinics
                                    e('div', { className: 'border border-gray-200 rounded-lg p-4' },
                                        e('h3', { className: 'font-semibold mb-2 text-center' }, 'Moderate Clinics'),
                                        e('div', { className: 'text-center py-3 px-4 rounded-lg text-white font-semibold', style: { backgroundColor: results.moderateClinic.color } },
                                            results.moderateClinic.label
                                        )
                                    ),
                                    // Lenient clinics
                                    e('div', { className: 'border border-gray-200 rounded-lg p-4' },
                                        e('h3', { className: 'font-semibold mb-2 text-center' }, 'Lenient Clinics'),
                                        e('div', { className: 'text-center py-3 px-4 rounded-lg text-white font-semibold', style: { backgroundColor: results.lenientClinic.color } },
                                            results.lenientClinic.label
                                        )
                                    )
                                ),
                                e('div', { className: 'bg-gray-50 rounded-lg p-4' },
                                    e('p', { className: 'text-gray-700' }, results.summary)
                                )
                            )
                        )
                    )
                ),
                // Modals would go here
                showHowToUse && e('div', {
                    className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50',
                    onClick: () => setShowHowToUse(false)
                },
                    e('div', {
                        className: 'bg-white rounded-xl p-6 max-w-2xl max-h-96 overflow-y-auto',
                        onClick: (ev) => ev.stopPropagation()
                    },
                        e('h2', { className: 'text-2xl font-bold mb-4' }, 'How To Use Risk Ranger'),
                        e('p', { className: 'text-gray-700 mb-4' }, 'Enter candidate medical information in plain English or use medical abbreviations like G3P2, SVD, GDM, etc.'),
                        e('button', {
                            onClick: () => setShowHowToUse(false),
                            className: 'px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300'
                        }, 'Close')
                    )
                ),
                showMethod && e('div', {
                    className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50',
                    onClick: () => setShowMethod(false)
                },
                    e('div', {
                        className: 'bg-white rounded-xl p-6 max-w-2xl max-h-96 overflow-y-auto',
                        onClick: (ev) => ev.stopPropagation()
                    },
                        e('h2', { className: 'text-2xl font-bold mb-4' }, 'Assessment Method'),
                        e('p', { className: 'text-gray-700 mb-4' }, 'Based on ASRM 2022 guidelines for gestational carriers with three-layer medical parsing.'),
                        e('button', {
                            onClick: () => setShowMethod(false),
                            className: 'px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300'
                        }, 'Close')
                    )
                )
            );
        }

        // Render the app
        const root = ReactDOM.createRoot(document.getElementById('risk-ranger-app'));
        root.render(e(RiskRangerApp));
    </script>
</body>
</html>
